Chess Raze - игра, в которую я бы залипал. я тут проект накидал уже, и мне нужна помощь его реализовать. не обязательно прям помощь, можно просто обдумать некоторые идеи которые остались недосказанными и помочь реализовать логику.

1. механика игры, ты играешь за шахматную фигуру, в начале за короля, позже можно за очки разблокировать другие, коня там, королеву, ферзя.
че за очки, да хуй его знает, я думаю потом можно будет подумать в этом ключе, за что конкретно игрок будет получать очки.
 
1.1 по таймеру в раз одну-две-три секунды, думаю что лучше оставить этот выбор самому пользователю, чтобы была какая-то сложность, будет делаться ход, дающий тебе одно очко, этот ход можно будет отменить, предположим за два очка, чтобы бесконечно ходы отменять было нельзя. в зависимости от фигуры будет тратиться разное количество очков, и получаться само собой тоже. ещё очки можно будет получить допустим за убийство вражеских шахматных фигур, но у меня ещё есть идея ввести лучников, сама игра будет в 3d

2.2поле будет бесконечно, на самом деле будет несколько режимов, один с определенными уровнями, другой с бесконечным режимом, но с сохранениями, чтобы можно было 

2.3 как игра будет выглядеть

 массив может продолжаться бесконечно, просто надо будет его пере удалять, храниться он будет в одном а путешествовать надо будет по индексам. одного массива, но я сделаю потом, что от одного класса можно будет несколько массивов и между ними перепрыгивать, но надо будет ещё подумать над этим, поле кстати тоже можно менять можно будет сделать, чтобы он переходил в другой массив типо на другой этаж, 

предположим это будет псевдо массив, который состоит из на самом деле из одного массива булевых переменных, лучше потом сделать побитовый массив, но это сложно, потому что  надо будет описывать логику, 0 и 1 , но это нужно будет сделать, чтобы массив легче было передать, true false занимают 1 байт, побитовый массив 2 бита, крч потом...

    x.20 - можно будет пере обновлять этот массив, так как игра пошаговая, это будет даже незаметно
y  -0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-
.  -0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-  индексация массива с нуля и допустим 20 на 10 = 200 и минус один 199 будет такой массивчик, потом из этого массивчика через 
1  -0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-  записанный за героем индекс, перекинем его на другой этаж  с другим массивчиком. 
0  -0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-
   -0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-  и дальше там массив будет перебираться. но сам массив будет выглядеть как побитовый и он будет достаточно мал, обнавляться 
   -0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-  по таймеру, хотя сам массив, лучше обновлять, не по таймеру, а по моменту перехода в другой массив, обновляться будут ячейки
   -0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-   которые не являются битовым 0, а являются 1, все эти ячейки, уже будут переноситься, в массив который у тебя будет на экране 
   -0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-  что то менять, то есть представте, что эти нули, это просто пустая карта, а единички будут блоками которыми будет карта 
   -0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-  обрисовываться 
   -0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-0-

сам массив одномерный который будет якобы двухмерным но просчитывать по формуле index = row * M + column, крч случайно наткнулся пока обдумывал идею в чате gpt, много кода уже понаписал, его осталось только грамотно соеденить. я в ооп не силен, но прекрасно понимаю, что нужно сделать, возможность наследовать игрока, от класса игрока, для будущей возможной кооперативной игры, ну или типа для массивов, сделать класс массивов, чтобы их можно было сделать несколько и из одного массива, перекинуть игрока, в другой массив, а затем в третий, чтобы успеть перезатереть первый, и затем снова его переиспользовать, так как возвращаться можно будет максимум на 10 ходов назад, эта логика, вполне рабочая.

хоть сама игра будет и 3д.
но вся логика будет конечно на массивах в двумерном пространстве, а то слишком уж много придётся париться насчет количества фигур, а так сделаем все фигуры одинаковыми, запечем их после того как сделаем тени, и все такое, и вот уже готова идея как сделать много фигурок, но их к сожалению, нужно будет перезапекать, я вот ток не знаю, как лучше , а не, идея пришла, крч одного раза запечь все фигуры достаточно, просто если грамотно отображать тень передвигающихся фигур, то их лучше все же сделать динамичными, но только в момент хода. я тут если честно не все продумал наперед, например с врагами идея пришла только не давно, что все враги, будут точно такими же фигурами, которые способны ходить, вот только если бы они ходили все сразу, то было бы нечестно, поэтому врагов, будет не слишком много, но будут препятствия, в виде пустоты, то есть если в ячейке массива будет единица, эту единицу можно будет переделать во что угодно, хоть в стену , хоть во врага, хоть в магическую башню, стреляющую по определенным клеткам с определенным интервалом, крч от шахмат здесь одно название. конечно, чтобы не было не проходимых уровней, нужно будет сделать жизни игроку, чтобы он не сразу умирал от атаки врага, например меня полностью устраивает логика, что у разных фигур, разные количества жизней, стеклянная королева, танковый имба слон, король, которые за все действия должны, будут получать очки действий, на которые опять же можно будет отматывать ходы, можно будет ставить на паузу, а то игра заставляющая тебя постоянно передвигаться тоже имеет ряд недостатков, иногда игрок должен обдумать план, может он хочет потратить ход на перевоплощение в коня и просто перепрыгнуть все препятствия, бля идей много, нужны руки которые помогут все реализовать, не обязательно на gdscript, не обязательно даже качать движок, нужно, просто помочь с уже существующим кодом, можете дописать его, на своем любимом языке, а затем при помощи чата gpt перевести его на gdscript.

есть идея с музыкой, но пока только идея, сделать что то типа спокойных звуков с повышающейся тональностью пока игрок ходит вперед, и наоборот если он начинает отматывать ходы тональность звуков будет понижаться. ток над разные и красивые звуки подбирать, со звуками забейте крч, ток если нет идей прям для главного меню, потому что надо что-то эпичное, но я вообще не знаю как записать эпик музыку, в смысле какие для этого синтезаторы в флке вообще используются.

вообще игра будет разделена на две игры. в одной бесконечная генерация с бесконечными проблемами для игрока, в другой готовые лвл, главное интересные заранее продуманные, где бы можно было сделат поинтереснее, но я думаю, что это надо оставить на потом, когда пощупаем бесконечный мир. чтобы понять, а какие преграды вообще могут быть интересными.

и вот самая сложная часть бесконечная генерация карты, ее можно сделать шумом Перлина, но тогда эта вся фигня будет непонятно как работать, в плане то карта нарисуется, то что с генерацией врагов, их как там, на выходах что ли ставить?
лучше сделать что то типа данжей, небольших комнат, в которых заранее, может в некоторых местах прописываться, враги, конечно комнаты могут быть и огромными, кстати никто не запрещал прописать союзные шахматы, чтобы поиграть и за другие фигуры, когда это будет возможно конечно, вообще было бы забавно если бы игрок мог двигать старые фигуры в новые данжи, но я предлагаю взимать плату в виде тех же очков за пользование другими фигурами, факт в том что игрок сам сможет стать любой фигурой, но только если у него будет достаточное количество очков, чтобы купить себе форму этой фигуры и перевоплотиться. вечная бродилка без улучшений скука смертная, поэтому, предлагаю прокачку персонажа, но это ток в бесконечном режиме.

перейдем к заранее подготовленным уровням, 
представим карту которую можно будет самому настроить путем введения, ноликов и единичек, тоесть нарисовать ноликами допустим по карте спрайтов, это я щяс про генерацию уровней, что проще генерировать их на спрайтах, чем пытаться придумать велосипед в 3д. но в 3д уже надо будет обставлять готовый лвл врагами


-1-0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-0-0-0-0-0
-0-0-0-0-0-0-0-0-0-0-1-0-0-0-1-0-0-0-0-0-0
-0-0-0-1-0-0-0-0-0-0-1-0-0-0-1-0-1-0-0-0-0
-0-0-0-0-0-0-0-0-0-0-1-0-0-0-1-0-0-0-0-0-0
-0-0-0-0-0-0-0-0-0-0-1-0-0-0-0-0-0-0-0-0-0

что я пытаюсь показать на этой картинке из нулей и кто не заметил небольшого количества единиц.
предположим что у нас есть король 

который находиться по 0 индексу в ячейке псевдо массива (0, 0)
есть конь (4, 3) лень считать какой индекс, но его легко просчитать если знать размер длинны и ширины массива по формуле index = row * M + column где м это максимум ширины, или высоты, надо еще это вопрос решить, что удобнее использовать x или y координаты для удобства обновления массива, вообще всегда моджно лвл развернуть под 90 градусов, поэтому кто понял тот понял... 

так о чем я, а да в этом лвле, конем надо перепрыгнуть блокаду пешек, стену из еденичек, предположим это начальный лвл, чтобы ввести игрока в курс дела, он должен двигаться сам, чтобы получать очки, чтобы двигать союзные фигуры, и так круговорот того, что ты всегда должен действовать главной фигурой. изначально она будет королем в любом режиме, пешкой предлагаю не играть, так как это странно, двигаться только в одном направлении, но вот мы и подошли к тому что фигуры противников тоже должны взаимодействовать с нашими фигурами, в каких то лвлах это будет тактически выверено, в какихто он и могут просто ходить на обум, что бы обыграть человека, взять готовый код с питона, и внедрить его в нашу игру, достаточно сложная затея, поэтому мне нужна, помощь. я просто понял, что масштаб игры не вывожу, но меня черт возьми зацепила, и думаю можно сделать на ней хорошие бабки, если грамотно подойти к ней...

почему движок godot 4.3 версия если что, 
потому что не надо будет платить процент как в юнити
он кстати намного компактнее, и игры выходят куда в меньшем размере, причем не чуть не хуже. ну разве что AAA SSS на нем не сделаешь, но этого нам и не надо.
конечно надо сразу делать поддерджку как на мобильные, так и на браузерные платформы, так и на комп можно будет скачать, просто для всего разный ввод, и это будет три отдельные игры, с одной и той же логикой. просто метод передвижения будет разный.

мобилка - я предлагаю передвигать на мобилке, векторными рисунками, чтобы можно было определить на какую клетку должен быть ход, код уже почти готов, точнее готов, просто я ещё плохо разобрался с нодами,(ноды, это аналог скриптов, которые соединяют другие скрипты между собой, есть уже готовые решения практически на всю логику которую я описал, заисключением поиска пути для врага, чтобы он мог заранее обдумать как походить, да код с шахмат не подойдет, нужно смотреть как логически компьютер выбирает верный ход, конечно можно это дело все оставить рандому, но в заранее заготовленных лвлах я бы не которые фигуры оставил без движения, чтобы компьютер не ломал построение защиты пешек например, кстати сразу перейдем к тому , что надо как-то компьютеру понимать когда вариантов больше не осталось, хотя всегда есть вариант бесконечно ходить, и накопить на фигуры, поэтому я думаю что стоить они должны порядка нескольких десятков очков, чтобы сразу игрок мог перейти к интерактиву. в заранее продуманных лвлах, я думаю дать игроку возможность перевоплощаться в любую фигуру сразу, но с опять же надо все будет на ) 

на комп, все понятно, берешь и перетаскиваешь фигуры мышкой, как в обычных шахматах, много идей остались недосказанными, поэтому скину то что я писал чату gpt чтобы он мне помог с кодом... я просто пытался обозначать идеи которые у меня были в голове на тот момент, причем, игра тогда для меня имела совсем другой окрас, тоесть по другому ее представлял.
поэтому все что прочтете ниже можно в принцепе и не читать, так как по всем этим вопросам уже написан кое какой, но рабочий код, который могу уже скинуть. Хотя лучше если заинтересует игра, то качайте godot, а там уже через git можно все толкануть, я сейчас пожалуй займусь этим.


1.

можешь мне помочь придумать как двигаться по массиву между ячейками, через ячейки массива, но с ограничением на одну ячейку в двойном массиве, как перемешаться между этими массивами при помощи кубических мини массивов, закрепленными за ячейками двумерного массива, 

в этой игре мне надо сделать  будто ты двигаешься по своему инвентарю, с сохранением позиции массива, инветарь я сделаю сам, но логику как будто там чтото может появиться из вне мне надо помочь придумать, как обернуть индекс массива в квадрат ячеек вокргуг массива в квадрат чтобы из этого внешнего квадрата брать информацию. которая там будет помешена. тоесть пример двумерного массиваа три на три , обернуть его в квадрат по три ячейки с каждой стороны, не соединяя углы между ними. как бы это записать в коде, чтобы логически было просто с этим работать. 

а движения вверх вправо, вверх влево, вниз вправо, вниз влево? можешь добавить по моему способы вычитания из цифры 4 и 4 - 4 вверх вправо, 4 - 3 вверх, 4 - 2 вверх вправо, 4 - 1 влево, 4 - 0, оставаться на месте, 4 + 1, вправо, 4 + 2  вниз влево, 4 + 3 вниз, 4+ 4 вниз вправо. а ещё попонятнее сделать большой массив без непонятных чисел, а только строго определенных. тоесть не использовать x, y, z и буквенные обозначения, чтобы мне можно было прогнать код в своей программе.


2.
массив с пустыми ячейками с нулями, если ячейка массива заполнена единицей, то индекс массива, БЕРЕТЬСЯ И создается переменная инт с номером этого индекса, и переноситься в массив меняющий логику ячеек, просто если они пусты, логика меняться не должна, а если заполнены, то эти индексы должны выноситься в массив с меняющейся логикой, но ячейки должны перепроверяться по таймеру в 1 секунду, заполнена она или нет, если нет, то пропустить ячейку и перехожить к следующей, если да то записать ее индекс и передать этот индекс в массив, сам массив обоработчик должен распознавать индекс, тоесть у него должно быть четкое понимание с какого участка массива он пришел, 

и должен перестраивать этот одномерный массив так, чтобы полусился прямоугольник, из задающийся при учитывании размера создании одномерного массива, просто его будут представлять в двух массивах, которых не будет на самом деле, просто будет представление при помощи формулы index = row * M + column, а также я хочу, чтобы ты дал мне формулы, которые мне помогут распределить в трехмерном пространстве точки так, чтобы они были равноудалены друг от друга, но при этом составляли плоскость в трехмерном пространстве, то есть это надо будет сделать через позиционирование x y z, в движке godot 4.3 на gdscript. давай действовать по порядку, не лепи все в кучу , я просто обозначил, что мне нужно в итоге в конце, но я бы разбил все это на несколько подзадач, и приступал к ним поочередно, только после того как выполнил другую предыдущую. 

3.

gdsript godot 4.3 мне надо сравнить количество ячеек в массиве с тем количеством которое мне надо, первоначально я задал массив 10 умножая на 10 
и выбрал что размерность в сто ячеек от 0 до 99 меня устроит, но потом мне потребовалось доработать скрипт, и теперь мне иногда надо будет уменьшать массив, или увеличивать его значения, значения я имею ввиду количество индексов в массиве, то есть если мне нужен будет массив 5 на 5, то я бы хотел сократить массив, до скажем 25 ячеек, от 0 до 24, по индексам если быть точным, но вот проблема, я не знаю как удалять ячейки массива, чтобы при обращении к ним выдовало пустоту тоесть null или nil не знаю что там именно должно выдоваться, но мне важно, что бы эта настройка могла быть изменена по щелчку функции, тоесть вынести изменения этого массива в отдельную функцию, которая могла бы как добавлять новые ячейки, так и убовлять, с заранее просчитаным количеством, умножая столбики на ряды в псевдо массиве. чтобы получить размерность одномерного массива.

4.

как обработать ввод рисования через код godot gdscript, Я хочу чтобы при нажатии на экран как в паинте рисовалась линия, и потом хочу обрабюатывать эти линии чтобы было понятно в какую сторону рисуеться вектор
если бы это сразу обработывалось в коде было бы замечательно, но я все ещё хочу чтобы касание подсвечивалось трейлом который ввело по траектории движения нажатия, это новая логика и её надо как то внедрить не меняя старый код, только если немного и только если необходима, также я попрощу упростить его, мне все ещё нужно знать в каком из восьми направлений будет рисоваться верктор, и я бы хотел что бы после окончания рисования, этот вектор был обрисован 2д линией, но это не должно влиять на логику, просто подсвеченный вектор из одной начальной точки нажатия, в точку когда нажатие отпущено, у меня много мыслей как все это красиво упаковать, но не надо сильно менять логику уже существующую, и я хочу все делать из одного большого скрипта, поэтому тебе предеться хард кодить из одного скрипта.









